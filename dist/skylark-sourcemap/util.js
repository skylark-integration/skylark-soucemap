/**
 * skylark-sourcemap - A version of sourcemap that ported to running on skylarkjs.
 * @author Hudaokeji Co.,Ltd
 * @version v0.9.0
 * @link www.skylarkjs.org
 * @license MIT
 */
define([],function(){"use strict";var e=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.-]*)(?::(\d+))?(.*)$/,r=/^data:.+\,.+$/;function n(r){var n=r.match(e);return n?{scheme:n[1],auth:n[2],host:n[3],port:n[4],path:n[5]}:null}function t(e){var r="";return e.scheme&&(r+=e.scheme+":"),r+="//",e.auth&&(r+=e.auth+"@"),e.host&&(r+=e.host),e.port&&(r+=":"+e.port),e.path&&(r+=e.path),r}function a(e){var r=e,a=n(e);if(a){if(!a.path)return e;r=a.path}for(var i,u=o(r),c=r.split(/\/+/),l=0,h=c.length-1;h>=0;h--)"."===(i=c[h])?c.splice(h,1):".."===i?l++:l>0&&(""===i?(c.splice(h+1,l),l=0):(c.splice(h,2),l--));return""===(r=c.join("/"))&&(r=u?"/":"."),a?(a.path=r,t(a)):r}function i(e,i){""===e&&(e="."),""===i&&(i=".");var o=n(i),u=n(e);if(u&&(e=u.path||"/"),o&&!o.scheme)return u&&(o.scheme=u.scheme),t(o);if(o||i.match(r))return i;if(u&&!u.host&&!u.path)return u.host=i,t(u);var c="/"===i.charAt(0)?i:a(e.replace(/\/+$/,"")+"/"+i);return u?(u.path=c,t(u)):c}function o(r){return"/"===r.charAt(0)||e.test(r)}var u=!("__proto__"in Object.create(null));function c(e){return e}function l(e){if(!e)return!1;var r=e.length;if(r<9)return!1;if(95!==e.charCodeAt(r-1)||95!==e.charCodeAt(r-2)||111!==e.charCodeAt(r-3)||116!==e.charCodeAt(r-4)||111!==e.charCodeAt(r-5)||114!==e.charCodeAt(r-6)||112!==e.charCodeAt(r-7)||95!==e.charCodeAt(r-8)||95!==e.charCodeAt(r-9))return!1;for(var n=r-10;n>=0;n--)if(36!==e.charCodeAt(n))return!1;return!0}function h(e,r){return e===r?0:null===e?1:null===r?-1:e>r?1:-1}return{toSetString:u?c:function(e){return l(e)?"$"+e:e},fromSetString:u?c:function(e){return l(e)?e.slice(1):e},compareByOriginalPositions:function(e,r,n){var t=h(e.source,r.source);return 0!==t?t:0!=(t=e.originalLine-r.originalLine)?t:0!=(t=e.originalColumn-r.originalColumn)||n?t:0!=(t=e.generatedColumn-r.generatedColumn)?t:0!=(t=e.generatedLine-r.generatedLine)?t:h(e.name,r.name)},isAbsolute:o,compareByGeneratedPositionsDeflated:function(e,r,n){var t=e.generatedLine-r.generatedLine;return 0!==t?t:0!=(t=e.generatedColumn-r.generatedColumn)||n?t:0!==(t=h(e.source,r.source))?t:0!=(t=e.originalLine-r.originalLine)?t:0!=(t=e.originalColumn-r.originalColumn)?t:h(e.name,r.name)},compareByGeneratedPositionsInflated:function(e,r){var n=e.generatedLine-r.generatedLine;return 0!==n?n:0!=(n=e.generatedColumn-r.generatedColumn)?n:0!==(n=h(e.source,r.source))?n:0!=(n=e.originalLine-r.originalLine)?n:0!=(n=e.originalColumn-r.originalColumn)?n:h(e.name,r.name)},parseSourceMapInput:function(e){return JSON.parse(e.replace(/^\)]}'[^\n]*\n/,""))},getArg:function(e,r,n){if(r in e)return e[r];if(3===arguments.length)return n;throw new Error('"'+r+'" is a required argument.')},urlParse:n,urlGenerate:t,normalize:a,join:i,relative:function(e,r){""===e&&(e="."),e=e.replace(/\/$/,"");for(var n=0;0!==r.indexOf(e+"/");){var t=e.lastIndexOf("/");if(t<0)return r;if((e=e.slice(0,t)).match(/^([^\/]+:\/)?\/*$/))return r;++n}return Array(n+1).join("../")+r.substr(e.length+1)},computeSourceURL:function(e,r,o){if(r=r||"",e&&("/"!==e[e.length-1]&&"/"!==r[0]&&(e+="/"),r=e+r),o){var u=n(o);if(!u)throw new Error("sourceMapURL could not be parsed");if(u.path){var c=u.path.lastIndexOf("/");c>=0&&(u.path=u.path.substring(0,c+1))}r=i(t(u),r)}return a(r)}}});
//# sourceMappingURL=sourcemaps/util.js.map
